<div [ngClass]="{ hidden: !service.isCommentOpen(subCategory.id) }">
  <div
    *ngFor="let comment of subCategory.comments"
    class="flex-row bg-catskill-white px-4"
  >
    <div class="flex items-center">
      <div class="grow max-w-200 h-12 flex items-center">
        <div
          [ngClass]="{
            'bg-white text-gray-400': comment.type == 'Internal',
            'bg-[#425660] text-white': comment.type == 'External'
          }"
          class="rounded-2xl border border-gray-300 w-20 flex justify-center text-sm"
        >
          {{ comment.type }}
        </div>
      </div>
      <div class="grow">{{ comment.comment }}</div>
      <div class="grow max-w-150 font-medium">{{ comment.author }}</div>
      <div class="grow max-w-150 text-gray-400">
        {{ comment.date | date: "d MMM y hh:mm" }}
      </div>
      <div class="grow max-w-50 flex justify-around">
        <div>
          <button>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="#9ca3af"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"
              />
            </svg>
          </button>
        </div>
        <div>
          <button>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 20 20"
              fill="#9ca3af"
            >
              <path
                fill-rule="evenodd"
                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <hr />
    <div class="flex items-center h-12">
      <!-- Comment Dropdown Menu -->
      <form [formGroup]="commentForm" class="w-full flex items-center">
        <div class="border border-dusty-blue rounded p-1">
          <select
            class="min-w-150 focus:outline-none"
            formControlName="commentType"
            (change)="commentTypeChange($event)"
          >
            <option>Select Comment Type</option>
            <option *ngFor="let option of options">
              {{ option }}
            </option>
          </select>
        </div>
        <div class="w-full p-3">
          <input
            formControlName="commentMsg"
            type="textarea"
            class="w-full h-8 border border-[#B8C7CF] rounded-md bg-transparent focus:outline-none focus:border-dusty-blue px-3"
          />
        </div>

        <button
          [disabled]="!commentMsg.value"
          class="bg-sky-700 rounded-md text-white py-1 w-16 disabled:bg-geyser"
        >
          Add
        </button>
      </form>
    </div>
  </div>
</div>
